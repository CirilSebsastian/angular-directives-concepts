<div class="panel panel-primary">
  <div class="panel-heading" ng-click="collapse()">
    {{user.name}} 
  </div>
  
 <div class="panel-body" state-display="user.level"  ng-hide="collapsed">
     <address></address>
    <h4>Contact Details:</h4>
    <div>
      email : {{user.contactDetails.email}} <br/>
      phone : {{user.contactDetails.mobile}}
    </div>
    <h4>Friends:</h4>
    <ul ng-show ="!!user.friends">
      <li ng-repeat = "friend in user.friends">
        {{friend}}
        <remove-friend method="confirmRemove(friend)"></remove-friend>
      </li>  
    </ul>
    
    <div ng-show="!!user.rank">
      Rank : {{user.rank}}
    </div>
    
    <button ng-show="!user.rank" class="btn btn-success" ng-click="knightMe(user)">Knight me</button>
    <button ng-click="nextState()" class="btn btn-info">Next state</button>
 </div>


</div>